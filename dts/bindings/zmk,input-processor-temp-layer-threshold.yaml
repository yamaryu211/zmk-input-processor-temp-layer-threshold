description: |
  Temporary layer input processor with movement threshold.
  Activates a layer only after cumulative movement exceeds a threshold.

compatible: "zmk,input-processor-temp-layer-threshold"

include: base.yaml

properties:
  "#input-processor-cells":
    type: int
    required: true
    const: 2
    description: |
      Number of cells: layer index, timeout in ms

  threshold:
    type: int
    default: 0
    description: |
      Movement threshold before layer activation. Set to 0 for immediate activation.

  require-prior-idle-ms:
    type: int
    default: 0
    description: |
      Milliseconds of no key presses before activation is allowed

  excluded-positions:
    type: array
    default: []
    description: |
      Key positions that won't deactivate the layer when pressed
      while the layer is active

  reset-timeout-ms:
    type: int
    default: 200
    description: |
      Milliseconds without movement before resetting accumulated movement

  track-remainders:
    type: boolean
    description: |
      Whether to track remainders for this processor (required by ZMK)

input-processor-cells:
  - layer
  - timeout-ms
